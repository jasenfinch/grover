<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Accessing raw mass spectrometry data from a grover API • grover</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Accessing raw mass spectrometry data from a grover API">
<meta property="og:description" content="grover">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">grover</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/client-usage.html">Accessing raw mass spectrometry data from a grover API</a>
    </li>
    <li>
      <a href="../articles/hosting.html">Hosting a grover API</a>
    </li>
    <li>
      <a href="../articles/introduction.html">Introduction to grover</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jasenfinch/grover/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="client-usage_files/header-attrs-2.8/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Accessing raw mass spectrometry data from a grover API</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jasenfinch/grover/blob/master/vignettes/client-usage.Rmd"><code>vignettes/client-usage.Rmd</code></a></small>
      <div class="hidden name"><code>client-usage.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>This vignette outlines the <code>grover</code> package client-side functionality for accessing a raw mass spectrometry data repository hosted by grover API. This functionality includes repository contents querying, file transfer, file information retrieval, sample information retrieval and raw data conversion.</p>
<p>To get started we can first load the <code>grover</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://jasenfinch.github.io/grover/">grover</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="example-api" class="section level2">
<h2 class="hasAnchor">
<a href="#example-api" class="anchor"></a>Example API</h2>
<p>For this example we will run an example grover API provided by the package. This will run as a background process to allow us to interact with the API without having to use an alterative R console. To activate this run the following:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">grover_host</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/grover.html">grover</a></span><span class="op">(</span>host <span class="op">=</span> <span class="st">"127.0.0.1"</span>,
                     port <span class="op">=</span> <span class="fl">8000</span>,
                     auth <span class="op">=</span> <span class="st">"1234"</span>,
                     repository <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">'repository'</span>,
                                              package <span class="op">=</span> <span class="st">'grover'</span><span class="op">)</span><span class="op">)</span>

<span class="va">api</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/groverAPI.html">groverAPI</a></span><span class="op">(</span><span class="va">grover_host</span>,
                 background <span class="op">=</span> <span class="cn">TRUE</span>,
                 log_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">'/logs'</span><span class="op">)</span>,
                 temp_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span><span class="op">(</span><span class="op">)</span>,<span class="st">'/temp'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Warning in normalizePath(log_dir): path[1]="/tmp/RtmpEh0JUn/logs": No such file</span>
<span class="co">#&gt; or directory</span>
<span class="co">#&gt; Warning in normalizePath(temp_dir): path[1]="/tmp/RtmpEh0JUn/temp": No such file</span>
<span class="co">#&gt; or directory</span></code></pre></div>
<p>For further details on hosting a grover API see the <a href="hosting.html">Hosting a grover API</a> vignette.</p>
</div>
<div id="grover-api-host-details" class="section level2">
<h2 class="hasAnchor">
<a href="#grover-api-host-details" class="anchor"></a>grover API host details</h2>
<p>In order to access the API, we need to first provide the host details of the grover API. There are two ways to do this. The primary method is through the use of a configuration file that can then be parsed and specified when the API is activated. This should be in YAML format and have the structure shown below:</p>
<pre><code>host: 127.0.0.1
port: 8000
auth: 1234</code></pre>
<p>This specifies the host address, the port, and authentication key that matches the key with which the host has been configured.</p>
<p>The package contains an example file that we can parse here using the <code><a href="../reference/readGrover.html">readGrover()</a></code> function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">grover_client</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readGrover.html">readGrover</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">'grover_client.yml'</span>,package <span class="op">=</span> <span class="st">'grover'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>This returns an S4 object of class <code>GroverClient</code> that contains the API host information. The host information can be viewed by printing the object:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">grover_client</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Grover Information</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Host:         127.0.0.1 </span>
<span class="co">#&gt; Port:         8000 </span>
<span class="co">#&gt; Authentication:   1234</span></code></pre></div>
<p>The second method, and the method that will be used for this example, is to specify the host details directly using the <code><a href="../reference/grover.html">grover()</a></code> function like the following:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">grover_client</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/grover.html">grover</a></span><span class="op">(</span>host <span class="op">=</span> <span class="st">"127.0.0.1"</span>,
                     port <span class="op">=</span> <span class="fl">8000</span>,
                     auth <span class="op">=</span> <span class="st">"1234"</span><span class="op">)</span></code></pre></div>
<p>This enables us to access the grover API hosting the example data repository included in the package.</p>
<p>Using this host information, we can first check that the API is running using the <code><a href="../reference/extant.html">extant()</a></code> function as shown below:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/extant.html">extant</a></span><span class="op">(</span><span class="va">grover_client</span><span class="op">)</span>
<span class="co">#&gt; [1] "I'm still here!"</span></code></pre></div>
</div>
<div id="querying-the-data-repository-contents" class="section level2">
<h2 class="hasAnchor">
<a href="#querying-the-data-repository-contents" class="anchor"></a>Querying the data repository contents</h2>
<p>We can list the instruments available within the data reposiroty using the following:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/listInstruments.html">listInstruments</a></span><span class="op">(</span><span class="va">grover_client</span><span class="op">)</span>
<span class="co">#&gt; [1] "Thermo-Exactive"</span></code></pre></div>
<p>As can be seen above, there is a single instrument available named Thermo-Exactive. To list the experiment directories available for this instrument, we can use the code below.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/listInstruments.html">listDirectories</a></span><span class="op">(</span><span class="va">grover_client</span>,<span class="st">'Thermo-Exactive'</span><span class="op">)</span>
<span class="co">#&gt; [1] "Experiment_1"</span></code></pre></div>
<p>This shows a single experiment data directory available. We can then list the contents of this directory to identify the data files available:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/listInstruments.html">listFiles</a></span><span class="op">(</span><span class="va">grover_client</span>,<span class="st">'Thermo-Exactive'</span>,<span class="st">'Experiment_1'</span><span class="op">)</span>
<span class="co">#&gt; [1] "QC01.raw"</span></code></pre></div>
<p>We can see that there is a single raw data file available in this example repository.</p>
</div>
<div id="file-information" class="section level2">
<h2 class="hasAnchor">
<a href="#file-information" class="anchor"></a>File information</h2>
<p>File Information such as file size and creation date be retrieved. We can see this for the example file <code>QC01.raw</code> using the following:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/fileInfo.html">fileInfo</a></span><span class="op">(</span><span class="va">grover_client</span>,<span class="st">'Thermo-Exactive'</span>,<span class="st">'Experiment_1'</span>,<span class="st">'QC01.raw'</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 6</span>
<span class="co">#&gt;   instrument      directory    file     extension        size  birth_time</span>
<span class="co">#&gt;   &lt;chr&gt;           &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;     &lt;fs::bytes&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Thermo-Exactive Experiment_1 QC01.raw raw             6.88M 1623424911.</span></code></pre></div>
<p>This can also be done directory wide when multiple files are available.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/fileInfo.html">directoryFileInfo</a></span><span class="op">(</span><span class="va">grover_client</span>,<span class="st">'Thermo-Exactive'</span>,<span class="st">'Experiment_1'</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 6</span>
<span class="co">#&gt;   instrument      directory    file     extension        size  birth_time</span>
<span class="co">#&gt;   &lt;chr&gt;           &lt;chr&gt;        &lt;chr&gt;    &lt;chr&gt;     &lt;fs::bytes&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Thermo-Exactive Experiment_1 QC01.raw raw             6.88M 1623424911.</span></code></pre></div>
</div>
<div id="transfer-files" class="section level2">
<h2 class="hasAnchor">
<a href="#transfer-files" class="anchor"></a>Transfer files</h2>
<p>Individual files can be transferred from the repository using <code><a href="../reference/transferFile.html">transferFile()</a></code> , stipulating the instrument, experiment directory and file name. The <code>outDir</code> argument allows us to declare where the file will be downloaded to. In the example below, the file will be transfered to the current working directory.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/transferFile.html">transferFile</a></span><span class="op">(</span><span class="va">grover_client</span>,
             <span class="st">'Thermo-Exactive'</span>,
             <span class="st">'Experiment_1'</span>,
             <span class="st">'QC01.raw'</span>,
             outDir <span class="op">=</span> <span class="st">'.'</span><span class="op">)</span></code></pre></div>
<p>Similarly, we can transfer an entire directory:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/transferFile.html">transferDirectory</a></span><span class="op">(</span><span class="va">grover_client</span>,
                  <span class="st">'Thermo-Exactive'</span>,
                  <span class="st">'Experiment_1'</span>,
                  outDir <span class="op">=</span> <span class="st">'.'</span><span class="op">)</span></code></pre></div>
</div>
<div id="sample-information" class="section level2">
<h2 class="hasAnchor">
<a href="#sample-information" class="anchor"></a>Sample information</h2>
<p>Thermo <code>.raw</code> mass spectrometry data files contain sample meta information within the file headers. This can be extracted and retrieved, in the form of a tibble, for a given file using:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sampleInfo</span>(grover_client,<span class="st">'Thermo-Exactive'</span>,<span class="st">'Experiment_1'</span>,<span class="st">'QC01.raw'</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>QC01.raw ✓</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 1 x 39</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   `RAW file` `RAW file version` `Creation date`    Operator `Number of instrume…</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;              &lt;chr&gt;              &lt;chr&gt;                   &lt;dbl&gt;</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 QC01.raw   64                 25/04/2017 21:03:… Thermo                      2</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 34 more variables: Description &lt;chr&gt;, Instrument model &lt;chr&gt;,</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Instrument name &lt;chr&gt;, Instrument method &lt;chr&gt;, Serial number &lt;chr&gt;,</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Software version &lt;chr&gt;, Firmware version &lt;chr&gt;, Units &lt;chr&gt;,</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Mass resolution &lt;chr&gt;, Number of scans &lt;dbl&gt;, Number of ms2 scans &lt;dbl&gt;,</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Scan range &lt;dbl&gt;, Time range &lt;dbl&gt;, Mass range &lt;dbl&gt;,</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Scan filter (first scan) &lt;chr&gt;, Scan filter (last scan) &lt;chr&gt;,</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Total number of filters &lt;chr&gt;, Sample name &lt;chr&gt;, Sample id &lt;chr&gt;,</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Sample type &lt;chr&gt;, Sample comment &lt;chr&gt;, Sample vial &lt;chr&gt;,</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Sample volume &lt;chr&gt;, Sample injection volume &lt;chr&gt;,</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Sample row number &lt;chr&gt;, Sample dilution factor &lt;chr&gt;,</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Sample barcode &lt;chr&gt;, User text 0 &lt;chr&gt;, User text 1 &lt;chr&gt;,</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   User text 2 &lt;chr&gt;, User text 3 &lt;chr&gt;, User text 4 &lt;chr&gt;, directory &lt;chr&gt;,</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; #   Scan filters &lt;chr&gt;</span></span></code></pre></div>
<p>Similarly, the sample information for an entire experiment run can be retrieved with:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/sampleInfo.html">runInfo</a></span><span class="op">(</span><span class="va">grover_client</span>,<span class="st">'Thermo-Exactive'</span>,<span class="st">'Experiment_1'</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Genrating run info table for Experiment_1 containing 1 .raw files</span>
<span class="co">#&gt; # A tibble: 1 x 39</span>
<span class="co">#&gt;   `RAW file` `RAW file version` `Creation date`    Operator `Number of instrume…</span>
<span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;              &lt;chr&gt;              &lt;chr&gt;                   &lt;dbl&gt;</span>
<span class="co">#&gt; 1 QC01.raw   64                 25/04/2017 21:03:… Thermo                      2</span>
<span class="co">#&gt; # … with 34 more variables: Description &lt;chr&gt;, Instrument model &lt;chr&gt;,</span>
<span class="co">#&gt; #   Instrument name &lt;chr&gt;, Instrument method &lt;chr&gt;, Serial number &lt;chr&gt;,</span>
<span class="co">#&gt; #   Software version &lt;chr&gt;, Firmware version &lt;chr&gt;, Units &lt;chr&gt;,</span>
<span class="co">#&gt; #   Mass resolution &lt;chr&gt;, Number of scans &lt;dbl&gt;, Number of ms2 scans &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Scan range &lt;dbl&gt;, Time range &lt;dbl&gt;, Mass range &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Scan filter (first scan) &lt;chr&gt;, Scan filter (last scan) &lt;chr&gt;,</span>
<span class="co">#&gt; #   Total number of filters &lt;chr&gt;, Sample name &lt;chr&gt;, Sample id &lt;chr&gt;,</span>
<span class="co">#&gt; #   Sample type &lt;chr&gt;, Sample comment &lt;chr&gt;, Sample vial &lt;chr&gt;,</span>
<span class="co">#&gt; #   Sample volume &lt;chr&gt;, Sample injection volume &lt;chr&gt;,</span>
<span class="co">#&gt; #   Sample row number &lt;chr&gt;, Sample dilution factor &lt;chr&gt;,</span>
<span class="co">#&gt; #   Sample barcode &lt;chr&gt;, User text 0 &lt;chr&gt;, User text 1 &lt;chr&gt;,</span>
<span class="co">#&gt; #   User text 2 &lt;chr&gt;, User text 3 &lt;chr&gt;, User text 4 &lt;chr&gt;, directory &lt;chr&gt;,</span>
<span class="co">#&gt; #   Scan filters &lt;chr&gt;</span></code></pre></div>
</div>
<div id="raw-file-conversion-to--mzml-format" class="section level2">
<h2 class="hasAnchor">
<a href="#raw-file-conversion-to--mzml-format" class="anchor"></a>Raw file conversion to .mzML format</h2>
<p>With <code>grover</code> it is also possible retrieve <code>.mzML</code> format data files, converted from the <code>.raw</code> files. This file conversion uses the command line tool <a href="http://proteowizard.sourceforge.net/tools.shtml">msconvert</a>, implemented in R by the <a href="https://github.com/wilsontom/msconverteR">msconverteR</a> package.</p>
<div id="file-conversion" class="section level3">
<h3 class="hasAnchor">
<a href="#file-conversion" class="anchor"></a>File conversion</h3>
<p>To retrieve the example <code>.raw</code> file in <code>.mzML</code> format, the <code><a href="../reference/convertFile.html">convertFile()</a></code> function can be used. This takes similar inputs as <code><a href="../reference/transferFile.html">transferFile()</a></code> shown previously.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/convertFile.html">convertFile</a></span><span class="op">(</span><span class="va">grover_client</span>,
            <span class="st">'Thermo-Exactive'</span>,
            <span class="st">'Experiment_1'</span>,
            <span class="st">'QC01.raw'</span>,
            outDir <span class="op">=</span> <span class="st">'.'</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/convertFile.html">convertDirectory</a></span><span class="op">(</span><span class="va">grover_client</span>,
            <span class="st">'Thermo-Exactive'</span>,
            <span class="st">'Experiment_1'</span>,
            outDir <span class="op">=</span> <span class="st">'.'</span><span class="op">)</span></code></pre></div>
</div>
<div id="conversion-arguments" class="section level3">
<h3 class="hasAnchor">
<a href="#conversion-arguments" class="anchor"></a>Conversion arguments</h3>
<p>The <code>args</code> argument can be supplied to these conversion functions pass specific conversion criterial to <code>msconvert</code>. The <code>grover</code> package contains a number of helper functions to simplify their use. The available functions are listed below.</p>
<pre><code>conversionArgsMSlevel1
conversionArgsMSlevel2
conversionArgsMSlevel3
conversionArgsNegativeMode
conversionArgsPeakPick
conversionArgsPositiveMode</code></pre>
<p>Calling these functions return the appropriate string argument that is to be passed to msconvert.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/conversionArgsPeakPick.html">conversionArgsPeakPick</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "peakPicking true 1-"</span></code></pre></div>
<p>Mutiple functions can also be combined.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="../reference/conversionArgsPeakPick.html">conversionArgsPeakPick</a></span><span class="op">(</span><span class="op">)</span>,<span class="fu"><a href="../reference/conversionArgsPeakPick.html">conversionArgsNegativeMode</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "peakPicking true 1- polarity negative"</span></code></pre></div>
<p>A full list of the available msconvert arguments can be found <a href="http://proteowizard.sourceforge.net/tools.shtml">here</a>. The example below shows the use of the <code><a href="../reference/conversionArgsPeakPick.html">conversionArgsPeakPick()</a></code> to retrieve a centroided data in <code>.mzML</code> format.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/convertFile.html">convertFile</a></span><span class="op">(</span><span class="va">grover_client</span>,
            <span class="st">'Thermo-Exactive'</span>,
            <span class="st">'Experiment_1'</span>,
            <span class="st">'QC01.raw'</span>,
            args <span class="op">=</span> <span class="fu"><a href="../reference/conversionArgsPeakPick.html">conversionArgsPeakPick</a></span><span class="op">(</span><span class="op">)</span>, 
            outDir <span class="op">=</span> <span class="st">'.'</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="conclusion" class="section level2">
<h2 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h2>
<p>To conclude, we can terminte the process running the example grover API instance.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">api</span><span class="op">$</span><span class="fu">kill</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jasen Finch.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
